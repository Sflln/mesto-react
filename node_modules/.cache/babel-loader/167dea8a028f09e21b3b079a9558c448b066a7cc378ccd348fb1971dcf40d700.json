{"ast":null,"code":"class Card {\n  constructor(data, cardTemplate, handleCardClick, proofDeliteCard, id, likeCards) {\n    this._cardTemplate = cardTemplate;\n    this._name = data.name;\n    this._link = data.link;\n    this._like = data.likes;\n    this._showPopup = handleCardClick;\n    this._userId = id;\n    this._cardId = data._id;\n    this._ownerId = data.owner._id;\n    this._proofDeliteCard = proofDeliteCard;\n    this._likeCards = likeCards;\n  }\n  _isLike() {\n    return this._like.some(item => item._id === this._userId);\n  }\n  likeCard(likes) {\n    this._cardElement.querySelector(\".element__likes\").textContent = likes.length;\n    this._like = likes;\n    if (this._isLike()) {\n      this._buttonLike.classList.add(\"element__button-like_active\");\n    } else {\n      this._buttonLike.classList.remove(\"element__button-like_active\");\n    }\n  }\n  deleteCard() {\n    this._cardElement.remove();\n    this._cardElement = null;\n  }\n  createCard() {\n    this._cardElement = document.querySelector(this._cardTemplate).content.querySelector(\".element\").cloneNode(true);\n    this._buttonLike = this._cardElement.querySelector(\".element__button-like\");\n    this._buttonDelite = this._cardElement.querySelector(\".element__button-delete\");\n    this._imageOnCard = this._cardElement.querySelector(\".element__img\");\n    this._imageOnCard.src = this._link;\n    this._imageOnCard.alt = this._name;\n    this._cardElement.querySelector(\".element__title\").textContent = this._name;\n    if (this._userId !== this._ownerId) {\n      this._buttonDelite.remove();\n    }\n    this.likeCard(this._like);\n    this._buttonDelite.addEventListener(\"click\", () => {\n      this._proofDeliteCard(this._cardId, this);\n    });\n    this._buttonLike.addEventListener(\"click\", () => {\n      this._likeCards(this._cardId, this._isLike(), this);\n    });\n    this._imageOnCard.addEventListener(\"click\", () => {\n      this._showPopup(this._name, this._link);\n    });\n    return this._cardElement;\n  }\n}\nexport default Card;","map":{"version":3,"names":["Card","constructor","data","cardTemplate","handleCardClick","proofDeliteCard","id","likeCards","_cardTemplate","_name","name","_link","link","_like","likes","_showPopup","_userId","_cardId","_id","_ownerId","owner","_proofDeliteCard","_likeCards","_isLike","some","item","likeCard","_cardElement","querySelector","textContent","length","_buttonLike","classList","add","remove","deleteCard","createCard","document","content","cloneNode","_buttonDelite","_imageOnCard","src","alt","addEventListener"],"sources":["/run/media/user/052c4b2e-bb24-4f39-956d-9fbf4f5d39a4/yaed/mesto-react/mesto-react/src/components/Card.js"],"sourcesContent":["class Card {\n  constructor(\n    data,\n    cardTemplate,\n    handleCardClick,\n    proofDeliteCard,\n    id,\n    likeCards\n  ) {\n    this._cardTemplate = cardTemplate;\n    this._name = data.name;\n    this._link = data.link;\n    this._like = data.likes;\n    this._showPopup = handleCardClick;\n    this._userId = id;\n    this._cardId = data._id;\n    this._ownerId = data.owner._id;\n    this._proofDeliteCard = proofDeliteCard;\n    this._likeCards = likeCards;\n  }\n\n  _isLike() {\n    return this._like.some((item) => item._id === this._userId);\n  }\n\n  likeCard(likes) {\n    this._cardElement.querySelector(\".element__likes\").textContent =\n      likes.length;\n    this._like = likes;\n    if (this._isLike()) {\n      this._buttonLike.classList.add(\"element__button-like_active\");\n    } else {\n      this._buttonLike.classList.remove(\"element__button-like_active\");\n    }\n  }\n\n  deleteCard() {\n    this._cardElement.remove();\n    this._cardElement = null;\n  }\n\n  createCard() {\n    this._cardElement = document\n      .querySelector(this._cardTemplate)\n      .content.querySelector(\".element\")\n      .cloneNode(true);\n\n    this._buttonLike = this._cardElement.querySelector(\".element__button-like\");\n    this._buttonDelite = this._cardElement.querySelector(\n      \".element__button-delete\"\n    );\n    this._imageOnCard = this._cardElement.querySelector(\".element__img\");\n\n    this._imageOnCard.src = this._link;\n    this._imageOnCard.alt = this._name;\n    this._cardElement.querySelector(\".element__title\").textContent = this._name;\n\n    if (this._userId !== this._ownerId) {\n      this._buttonDelite.remove();\n    }\n\n    this.likeCard(this._like);\n\n    this._buttonDelite.addEventListener(\"click\", () => {\n      this._proofDeliteCard(this._cardId, this);\n    });\n\n    this._buttonLike.addEventListener(\"click\", () => {\n      this._likeCards(this._cardId, this._isLike(), this);\n    });\n\n    this._imageOnCard.addEventListener(\"click\", () => {\n      this._showPopup(this._name, this._link);\n    });\n\n    return this._cardElement;\n  }\n}\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}